import type { ModelMetadata } from '../core/model-runtime';
import { registerModelMeta } from '../core/model-runtime';

/** Tracking metadata for a specific StateProofType. */
export interface BlockStateProofTrackingData {
  /** [v] Vector commitment root of state proof voters. */
  stateProofVotersCommitment?: Uint8Array;
  /** [t] Online total weight during state proof round. */
  stateProofOnlineTotalWeight?: bigint;
  /** [n] Next round for which state proofs are accepted. */
  stateProofNextRound?: bigint;
}

export const BlockStateProofTrackingDataMeta: ModelMetadata = {
  name: 'BlockStateProofTrackingData',
  kind: 'object',
  fields: [
    { name: 'stateProofVotersCommitment', wireKey: 'v', optional: true, nullable: false, type: { kind: 'scalar', isBytes: true } },
    { name: 'stateProofOnlineTotalWeight', wireKey: 't', optional: true, nullable: false, type: { kind: 'scalar', isBigint: true } },
    { name: 'stateProofNextRound', wireKey: 'n', optional: true, nullable: false, type: { kind: 'scalar', isBigint: true } },
  ],
};

registerModelMeta('BlockStateProofTrackingData', BlockStateProofTrackingDataMeta);


