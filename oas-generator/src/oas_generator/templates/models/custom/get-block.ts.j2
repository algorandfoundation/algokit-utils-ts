import type { Block } from './block';
import { BlockMeta } from './block';
import { ObjectModelCodec, RecordCodec, unknownCodec, type ObjectModelMetadata } from '@algorandfoundation/algokit-common';

export type GetBlock = {
  /** Block data including header and transactions. */
  block: Block;
  /** Block certificate. */
  cert?: Record<string, unknown>;
};

export const GetBlockMeta: ObjectModelMetadata<GetBlock> = {
  name: 'GetBlock',
  kind: 'object',
  fields: [
    { name: 'block', wireKey: 'block', optional: false, codec: new ObjectModelCodec(BlockMeta) },
    { name: 'cert', wireKey: 'cert', optional: true, codec: new RecordCodec(unknownCodec) },
  ],
};
