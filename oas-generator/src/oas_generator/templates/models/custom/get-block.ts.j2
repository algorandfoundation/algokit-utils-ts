import type { ObjectModelMetadata } from '../core/model-runtime';
import type { Block } from './block';
import { BlockMeta } from './block';
import { ModelCodec, RecordCodec, unknownCodec } from '@algorandfoundation/algokit-common';

export type GetBlock = {
  /** Block data including header and transactions. */
  block: Block;
  /** Block certificate. */
  cert?: Record<string, unknown>;
};

export const GetBlockMeta: ObjectModelMetadata = {
  name: 'GetBlock',
  kind: 'object',
  fields: [
    { name: 'block', wireKey: 'block', optional: false, nullable: false, codec: new ModelCodec(BlockMeta) },
    { name: 'cert', wireKey: 'cert', optional: true, nullable: false, codec: new RecordCodec(unknownCodec) },
  ],
};
